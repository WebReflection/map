<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no">
  <title>Full Size Observer</title>
  <style matters>
  html, body {
    padding: 0;
    margin: 0;
    overflow: hidden;
    box-sizing: border-box;
    height: 100%;
    height: -webkit-fill-available;
  }
  html {
    height: 100vh;
  }
  </style>
  <script matters>
  var visualViewport = self.visualViewport || {
    addEventListener: addEventListener.bind(self),
    get height() {
      return innerHeight;
    }
  };
  addEventListener('DOMContentLoaded', resize, {once: true});
  // possible work around for iOS < 13 ... but not sure how
  // addEventListener('focus', resize, true);
  visualViewport.addEventListener('resize', resize);
  function resize() {
    var height = visualViewport.height;
    document.body.style.height = height + 'px';
    document.documentElement.style.height = height + 'px';
    scrollTo(0, 0);
    dispatchEvent(new CustomEvent('viewportchange', {
      detail: {height: height}
    }));
    // needed for Windows Phone
    setTimeout(scrollTo, 300, 0, 0);
  }

  // debug purpose
  addEventListener('viewportchange', function (event) {
    document.querySelector('footer').textContent = [
      'current: ' + event.detail.height,
      'inner: ' + innerHeight,
      'avail: ' + screen.availHeight,
      'height: ' + screen.height
    ].join(' ');
  });
  </script>
  <style irrelevant>
  html {
    background: #000;
  }
  body {
    position: relative;
    border: 16px solid yellow;
    border-radius: 16px;
    background-color: green;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  input {
    margin: auto;
  }
  footer {
    font-family: sans-serif;
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    padding: 8px;
    font-size: small;
    text-align: center;
  }
  </style>
</head>
<body>
  <main><input></main>
  <footer></footer>
</body>
</html>